{% extends 'base.html' %}

{% load static %}
{% load custom_tags %}


{% block css %}
<link href="{% static 'blog/css/post_update_form.css' %}" rel="stylesheet">
{% endblock %}

{% block container %}
<form id="post-form" method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="content">
        <div class="right">
            <div class="title">
                <input id="id_title" type="text" name="title" value="{{ form.title.value }}" class="form-control"
                       placeholder="عنوان" required>
            </div>
            <div class="text">
                <textarea class="tinymce" cols="40"
                          data-mce-conf="{&quot;theme&quot;: &quot;silver&quot;, &quot;height&quot;: 500, &quot;menubar&quot;: false, &quot;plugins&quot;: &quot;advlist,autolink,lists,link,image,charmap,print,preview,anchor,searchreplace,visualblocks,code,fullscreen,insertdatetime,media,table,paste,code,help,wordcount&quot;, &quot;toolbar&quot;: &quot;undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help&quot;, &quot;language&quot;: &quot;fa_IR&quot;, &quot;spellchecker_languages&quot;: &quot;\u0622\u0641\u0631\u06cc\u06a9\u0627\u0646\u0633=af,\u0639\u0631\u0628\u06cc / \u0639\u0631\u0628\u06cc \u0627\u0644\u062c\u0632\u0627\u06cc\u0631\u06cc=ar,\u0622\u0633\u062a\u0648\u0631\u06cc=as,\u0622\u0630\u0631\u0628\u0627\u06cc\u062c\u0627\u0646\u06cc=az,\u0628\u0644\u063a\u0627\u0631\u06cc=bg,\u0628\u0644\u0627\u0631\u0648\u0633=be,\u0628\u0646\u06af\u0627\u0644\u06cc=bn,\u0628\u0631\u062a\u0648\u0646=br,\u0628\u0648\u0633\u0646\u06cc\u0627\u06cc\u06cc=bs,\u06a9\u0627\u062a\u0627\u0644\u0648\u0646\u06cc\u0627\u06cc\u06cc=ca,\u0686\u06a9\u06cc=cs,\u0648\u06cc\u0644\u0632\u06cc=cy,\u062f\u0627\u0646\u0645\u0627\u0631\u06a9\u06cc=da,\u0622\u0644\u0645\u0627\u0646\u06cc=de,\u0635\u0631\u0628\u0633\u062a\u0627\u0646\u06cc \u067e\u0627\u06cc\u06cc\u0646=ds,\u06cc\u0648\u0646\u0627\u0646\u06cc=el,\u0627\u0646\u06af\u0644\u06cc\u0633\u06cc / \u0627\u0646\u06af\u0644\u06cc\u0633\u06cc \u0627\u0633\u062a\u0631\u0627\u0644\u06cc\u0627\u06cc\u06cc / \u0627\u0646\u06af\u0644\u06cc\u0633\u06cc \u0628\u0631\u06cc\u062a\u06cc\u0634=en,\u0627\u0633\u067e\u0631\u0627\u0646\u062a\u0648=eo,\u0627\u0633\u067e\u0627\u0646\u06cc\u0627\u06cc\u06cc / \u0627\u0633\u067e\u0627\u0646\u06cc\u0627\u06cc\u06cc \u0622\u0631\u0698\u0627\u0646\u062a\u06cc\u0646\u06cc / \u0627\u0633\u067e\u0627\u0646\u06cc\u0627\u06cc\u06cc \u06a9\u0644\u0645\u0628\u06cc\u0627\u06cc\u06cc / \u0627\u0633\u067e\u0627\u0646\u06cc\u0648\u0644\u06cc \u0645\u06a9\u0632\u06cc\u06a9\u06cc / \u0646\u06cc\u06a9\u0627\u0631\u0627\u06af\u0648\u0626\u0647 \u0627\u0633\u067e\u0627\u0646\u06cc\u0627\u06cc\u06cc / \u0648\u0646\u0632\u0648\u0626\u0644\u0627 \u0627\u0633\u067e\u0627\u0646\u06cc\u0627\u06cc\u06cc=es,\u0627\u0633\u062a\u0648\u0646\u06cc=et,\u0628\u0627\u0633\u06a9\u06cc=eu,+\u0641\u0627\u0631\u0633\u06cc=fa,\u0641\u0646\u0644\u0627\u0646\u062f\u06cc=fi,\u0641\u0631\u0627\u0646\u0633\u0648\u06cc=fr,\u0641\u0631\u06cc\u0632\u06cc=fy,\u0627\u06cc\u0631\u0644\u0646\u062f\u06cc=ga,\u06af\u06cc\u0644\u06cc\u06a9 \u0627\u0633\u06a9\u0627\u062a\u0644\u0646\u062f\u06cc=gd,\u06af\u0627\u0644\u06cc\u0633\u06cc\u0627\u06cc\u06cc=gl,\u0639\u0628\u0631\u06cc=he,\u0647\u0646\u062f\u06cc=hi,\u06a9\u0631\u0648\u0627\u062a\u06cc=hr,\u0635\u0631\u0628\u0633\u062a\u0627\u0646\u06cc \u0628\u0627\u0644\u0627=hs,\u0645\u062c\u0627\u0631\u06cc=hu,\u0627\u0631\u0645\u0646\u06cc=hy,\u0627\u06cc\u0646\u062a\u0631\u0644\u06cc\u0646\u06af\u0648\u0627=ia,\u0627\u0646\u062f\u0648\u0646\u0632\u06cc\u0627\u06cc\u06cc=id,\u0627\u06cc\u06af\u0628\u0648=ig,\u0627\u06cc\u062f\u0648=io,\u0627\u06cc\u0633\u0644\u0646\u062f\u06cc=is,\u0627\u06cc\u062a\u0627\u0644\u06cc\u0627\u06cc\u06cc=it,\u0698\u0627\u067e\u0646\u06cc=ja,\u06af\u0631\u062c\u06cc / \u0642\u0628\u0627\u06cc\u0644\u06cc=ka,\u0642\u0632\u0627\u0642\u0633\u062a\u0627\u0646=kk,\u062e\u0645\u0631\u06cc=km,\u06a9\u0646\u0627\u062f\u0647\u200c\u0627\u06cc=kn,\u06a9\u0631\u0647\u200c\u0627\u06cc=ko,\u0642\u0631\u0642\u06cc\u0632\u06cc=ky,\u0644\u0648\u06af\u0632\u0627\u0645\u0628\u0648\u0631\u06af\u06cc=lb,\u0644\u06cc\u062a\u0648\u0627\u0646\u06cc=lt,\u0644\u062a\u0648\u0646\u06cc\u0627\u06cc\u06cc=lv,\u0645\u0642\u062f\u0648\u0646\u06cc=mk,\u0645\u0627\u0644\u0627\u06cc\u0627\u06cc\u06cc=ml,\u0645\u063a\u0648\u0644\u06cc=mn,\u0645\u0650\u0631\u0627\u062a\u06cc=mr,\u0628\u0631\u0645\u0647\u200c\u0627\u06cc=my,\u0646\u0631\u0648\u0698\u06cc=nb,\u0646\u067e\u0627\u0644\u06cc=ne,\u0647\u0644\u0646\u062f\u06cc=nl,\u0646\u0631\u0648\u0698\u06cc Nynorsk=nn,\u0622\u0633\u06cc=os,\u067e\u0646\u062c\u0627\u0628\u06cc=pa,\u0644\u0647\u0633\u062a\u0627\u0646\u06cc=pl,\u067e\u0631\u062a\u063a\u0627\u0644\u06cc / \u067e\u0631\u062a\u063a\u0627\u0644\u06cc\u0650 \u0628\u0631\u0632\u06cc\u0644=pt,\u0631\u0648\u0645\u0627\u0646\u06cc=ro,\u0631\u0648\u0633\u06cc=ru,\u0627\u0633\u0644\u0648\u0627\u06a9\u06cc=sk,\u0627\u0633\u0644\u0648\u0648\u0650\u0646\u06cc=sl,\u0622\u0644\u0628\u0627\u0646\u06cc\u0627\u06cc\u06cc=sq,\u0635\u0631\u0628\u06cc / \u0635\u0631\u0628\u06cc \u0644\u0627\u062a\u06cc\u0646=sr,\u0633\u0648\u0626\u062f\u06cc=sv,\u0633\u0648\u0627\u062d\u06cc\u0644\u06cc=sw,\u062a\u0627\u0645\u06cc\u0644\u06cc=ta,\u062a\u0644\u0648\u06af\u0648\u06cc\u06cc=te,\u062a\u0627\u062c\u06cc\u06a9=tg,\u062a\u0627\u06cc\u0644\u0646\u062f\u06cc=th,\u062a\u0631\u06a9\u0645\u0646=tk,\u062a\u0631\u06a9\u06cc=tr,\u062a\u0627\u062a\u0627\u0631=tt,\u0627\u062f\u0645\u0648\u0631\u062a=ud,\u0627\u06a9\u0631\u0627\u06cc\u0646\u06cc=uk,\u0627\u0631\u062f\u0648=ur,\u0627\u0632\u0628\u06a9\u06cc=uz,\u0648\u06cc\u062a\u0646\u0627\u0645\u06cc=vi,\u0686\u06cc\u0646\u06cc \u0633\u0627\u062f\u0647\u200c\u0634\u062f\u0647 / \u0686\u06cc\u0646\u06cc \u0633\u0646\u062a\u06cc=zh&quot;, &quot;directionality&quot;: &quot;rtl&quot;, &quot;mode&quot;: &quot;exact&quot;, &quot;strict_loading_mode&quot;: 1, &quot;elements&quot;: &quot;id_text&quot;}"
                          id="id_text" name="text" rows="10"> {{ form.text.value }}</textarea>
            </div>
            <div class="category">
                {{ form.category }}
            </div>
            <div class="stateBox">
                <div>
                    {{ form.is_active.label }}
                    {{ form.is_active }}
                </div>
                {% if request.user|has_group:"ویراستار" %}
                <div>
                    {{ form.is_accepted.label }}
                    {{ form.is_accepted }}
                </div>
                {% endif %}
            </div>
        </div>
        <div class="left">
            <div class="image_box">
                <div class="row">
                    <div class="imgUp">

                        <div class="imagePreview" style="background-image:url('/media/{{ post.image }}')"></div>
                        <label class="btn btn-primary">
                            Upload<input id="id_image" type="file" class="uploadFile img" value="Upload Photo"
                                         name="image"
                                         style="width: 0px;height: 0px;overflow: hidden;">
                        </label>
                    </div>
                </div>
            </div>

            <div class="tag">
                <label for="id_name">عنوان برچسب:</label>
                <input id="id_name" type="text" name="name" maxlength="200" resource="">
                <button type="button" class="addTag">اضافه کن!</button>
                <div class="chosenTags">
                    {% for tag in post.myTags.all %}
                    <div class="mytags" id="{{ tag.pk }}">
                        <a class="itTag" href="{% url 'blog:tag' tag.pk %}" style="color:white;text-decoration: none;">{{
                            tag }}</a>
                        <i class="fas fa-minus-circle delete_tag" id="{{ post.pk }}"></i>
                    </div>
                    {% endfor %}
                </div>
            </div>
            <div class="date">
                {{ form.post_date.label }}
                {{ form.post_date }}
            </div>

        </div>
    </div>
    <input type="submit" value="ذخیره" class="finalBTN">
</form>
<!--<form method="post">-->
<!--    {% csrf_token %}-->
<!--    {{ form.as_p }}-->
<!--    <input type="submit" value="Save">-->
<!--</form>-->
{% endblock %}

{% block scripts %}
{% csrf_token %}
<script src="{% static 'blog/js/jquery-3.6.0.min.js' %}"></script>
<script src="{% static 'blog/js/post_update_form.js' %}"></script>

{% endblock %}